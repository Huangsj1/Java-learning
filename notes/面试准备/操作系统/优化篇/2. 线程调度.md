[进程调度 - rCore-Tutorial-Book-v3 3.6.0-alpha.1 文档 (rcore-os.cn)](https://rcore-os.cn/rCore-Tutorial-Book-v3/chapter5/4scheduling.html)

# 一、线程调度策略

## 1. FCFS 先来先服务

从调度队列中选择最先进入的线程来执行，直到结束或者阻塞（非抢占）

## 2. SJF 短作业优先

从就绪队列中选择预估执行时间最短的线程来执行，直到结束或者阻塞（非抢占、饥饿）

## 3. STCM 最短完成时间

新线程加入队列时如果其预估执行时间短于当前正在执行的线程就抢占

## 4. RR 时间片轮转

每个线程分配一个时间片，时间片到了就换下一个线程执行（FCFS+时间片）

## 5. MLFQ 多级反馈队列

多个不同优先级的队列，优先级高的队列中的线程先执行，执行完后再执行低优先级的队列

* 降低优先级：当前线程如果用完了分配的时间片，就降低优先级放到下一级队列中
* 提升优先级：定期将所有线程都加入到最高优先级队列；定期统计阻塞/就绪的线程，等待时间越长优先级越高

## 6. 多处理器下调度

### 1. 单队列调度

多个cpu共同访问一个调度队列来选择线程调度（同步互斥访问、处理器亲和性）

### 2. 多队列调度

每个处理器分配部分线程构造各自的调度队列，它们只调用自己队列中的线程（可以将线程給空闲处理器的队列）

