# 一、锁的类型

## 1. 全局锁

直接**锁住整个数据库**，可用来数据库**备份**

在**可重复读隔离级别**下，对数据库进行**备份前开启事务**，由于MVCC的支持，可以在不影响其他事务情况下进行数据库备份

## 2. 表级锁

* 元数据锁MDL：对数据库表进行CRUD / 表结构变更操作的时候自动加锁，在事务提交后自动释放锁，写锁优先级高于读锁
* 意向锁：对记录添加锁之前会先在表中添加意向锁，用来快速判断表里面是否有记录被加锁
* AUTO-INC锁：对于自增的主键，在插入数据时会给表添加一个AUTO-INC锁，插入完后才释放锁

## 3. 行级锁

* Record Lock 记录锁：对某条记录加锁
* Gap Lock 间隙锁：对区间内的记录加锁，不包括边界
* Next-key Lock 临键锁：Record Lock + Gap Lock，解决当前读的幻读

