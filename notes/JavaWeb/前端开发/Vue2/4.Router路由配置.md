vue属于单页面应用，路由就是根据浏览器路径不同用**不同的视图组件**替换这个页面展示的内容

# 一、简单使用

1. 在 `router/` 文件夹下创建一个路由js文件（模仿自带的 `index.js`）来重定向请求的路径
	* 因为在创建vue2项目的时候就选择了router，所以会有`router/`文件夹
2. 对于使用了路由的页面，对应的模板里面需要说明路由的位置 `<router-view></router-view>`（如果还包含子路由，则其父路由页面的模板中也需要说明子路由的位置）

![[Pasted image 20240203204233.png|500]]
![[Pasted image 20240203204324.png|500]]

## 1. 动态导入

前面的静态导入需要在路由文件中 import 所有可能用到的组件，而动态导入只有在用到组件的时候才导入


![[Pasted image 20240204164612.png]]
![[Pasted image 20240203210638.png]]
![[Pasted image 20240203210801.png|400]]

`this.$router` 得到的是当前路由对象，即引入的路由js文件中定义的routes对象

## 2. 动态路由 & 重置路由 & 页面刷新 & 动态菜单

下面是路由相关函数，包括创建初始路由、重置路由、添加路由、恢复路由数据

![[Pasted image 20240203212431.png]]

1. 在登陆开始要重置路由，因为不同用户路由不同（可访问页面不同）
2. 之后向数据库请求获取路由信息
3. 将路由信息存储到当前浏览器标签页中，这样刷新浏览器也不用重新登录获取路由
4. 将路由信息添加到可以用的路由/页面中
5. 跳转到根页面 `'/'`

![[Pasted image 20240203212544.png]]

对于显示菜单的部分通过模板形式动态根据路由情况展示

![[Pasted image 20240203214250.png]]![[Pasted image 20240203214300.png|400]]