# 一、环境搭建

1. 项目根目录执行 `npm install vue-router@4`
2. 在 `router/` 文件夹下创建路由ts文件，定义路径和组件之间的关系，并且创建路由对象
3. 在 `main.ts` 文件中使用路由
4. 对于使用了路由的页面，对应的模板里面需要说明路由的位置 `<router-view></router-view>`（子路由中的父路由的模板中不用添加路由标签）

```ts
// router/a5router.ts
import {createRouter, createWebHashHistory} from 'vue-router'
import A51 from '../views/A51.vue'
import A52 from '../views/A52.vue'
// 路由 => 路径和组件之间的对应关系
const routes = [
  {
    path: '/a1',
    component: A51
  },
  {
    path: '/a2', 
    component: A52
  },
  {
    path: '/:pathMatcher(.*)*', // 可以匹配剩余的路径
    redirect: '/a2'
  }
]

const router = createRouter({ 
  history: createWebHashHistory(), // 路径格式
  routes: routes // 路由数组
})

export default router
```

```ts
// main.ts
// 导入用到的页面
import A5 from './views/A5.vue'  // vue-router、布局、菜单
// 该页面下用到的路由
import router from './router/a5router'

// 使用页面和路由
createApp(A6).use(antdv).use(router).mount('#app')
```

![[Pasted image 20240204164143.png]]

## 1. 动态导入

```ts
// router/a5router.ts
// 路由 => 路径和组件之间的对应关系
const routes = [
  // ...
  // 动态路由 & 嵌套路由
  {
    path: '/a3',
    name: 'main',
    component: () => import('../views/A53.vue'),
    redirect: '/a3/student', // 重定向到另外路径
    children: [
      {
        path: 'student',
        component: () => import('../views/A531.vue')
      },
      {
        path: 'teacher',
        component: () => import('../views/A532.vue')
      }
    ]
  },
  // ...
]
```

## 2. 动态路由 & 重置路由 & 页面刷新 & 动态菜单

类似[[4.Router路由配置#2. 动态路由 & 重置路由 & 页面刷新 & 动态菜单|Vue2中的]]

