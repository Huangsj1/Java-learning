# 一、session原理

## 1. 原理

![[2d045f44378bdd912c309a6ae102af6.jpg]]

对于每一个请求，如果当前请求不属于某一个会话，**服务器都会创建一个会话session**，该**会话中可以存储一些值用于该会话中多个请求共享**，服务器每次返回都会返回该请求所属的会话id `JSESSIONID=***`；如果请求的 `Cookie` 中带有该会话id，就可以访问到对应会话中存储的共享数据

![[c6835953bf2ebd7a17ff93128632627.jpg]]![[Pasted image 20240202113115.png]]

## 2. 应用

对于**单个服务器**可以使用session来进行登陆验证，通过**session保存登陆状态**（但是对于多个服务器来说需要每个服务器都登陆一次太麻烦，于是需要用到下面的jwt令牌技术）

![[Pasted image 20240202113632.png]]

# 二、jwt原理

## 1. 原理

jwt 能够**生成包含用户信息的token**（如包含用户名，不要放敏感信息如密码等），之后用户拿着这个token就能够往各个服务器发送请求，服务器都能够验证这个token的有效性

![[Pasted image 20240202115056.png]]![[e4f276369dd3a8eb2a1293c4c50ea90.jpg]]

生成的token包含三个部分（用 `.` 隔开），第一部分为**加密方法**，第二部分为**数据**，第三部分是**签名**；前两部分是Base64编码的json格式数据，第三部分是前两部分+服务器的密钥得到的签名，由于密钥未知，所以很难自己修改生成token

## 2. 应用

对于**多个服务器**可以使用jwt来进行登陆验证，通过**token来保存用户登陆状态**

![[Pasted image 20240202113800.png]]

