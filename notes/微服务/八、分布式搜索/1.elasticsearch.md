# 一、简介

* elasticsearch是一个**分布式搜索引擎**
* kibana可以通过**可视化**的方式来访问Elastic和发送DSL请求

![[af3389f9a243f10d0041205b39687f9.jpg]]

![[Pasted image 20240225094331.png]]

## 1. 正向索引和倒排索引

正向索引：当数据库搜索的是 `like` 时，mysql会进行正向索引，遍历所有数据库项，每条都判断是否包含需要搜索的词

![[ccf024472889916853a28bb22a8eb97.jpg]]

倒排索引：构建词条-文档索引表，通过搜索词条快速得到文档id来得到文档

![[0c41dc5ae8d7cd5dcece1458524b258.jpg]]

![[Pasted image 20240225095116.png]]

## 2. ES和MySQL

![[5ffccf8375addc4884e79e6290e954d.jpg]]![[809cf080f8d52e97e6cde3222c76a9c.jpg]]

![[34af1a159b0173362301aca2b35ab70.jpg]]![[c43093e9a1bd006a48ccbbfa0936cb5.jpg]]

![[Pasted image 20240225100646.png]]

# 二、分词器

![[0c8cedbd5e3a55d084fd159225c7074.jpg]]

原本默认的分词器对中文分词效果不好，可以通过其下载**ik分词器**插件来进行中文的分词

并且可以手动添加扩展/停用词库

![[b9a8e04c1f19cd65ba060f8a189e451.jpg]]![[cdbf6b6a49bc7a35fd6617486a3a9bc.jpg]]

![[Pasted image 20240225102831.png]]

# 三、DSL语句操作ES

* 索引库相当于MySQL中的表，文档相当于元组
	* index表示是否对该属性创建索引（需要**进行搜索的都可创建索引**）
	* 属性类型是text表示可分词的文本，可以指定分词器，通过分词来创建倒排索引
	* 如果多个属性可以同时搜索，可以为它们添加属性 `"copy_to"` 到一个新的包含它们的属性中，这个属性类型为text并且可以指定分词器

## 1. 操作索引库

![[d7299c33290144258fa7c8c14a0b762.jpg]]

创建、查询、删除、修改（增加）

![[2a5f6ca4b89ea2cd81ff79c982d5728.jpg]]![[702ec5639c44927577c2d4a22b0d128.jpg]]![[4333da27050ba19ce4c101797daa5ee.jpg]]

![[Pasted image 20240225104121.png]]

## 2. 操作文档

添加、查询、删除、修改

![[0053552122507f19b39658225bf0181.jpg]]![[79ae672a6e38e0742c9d2e4676fefe5.jpg]]![[2b88c61adfef2f5a6abc00cd05e311c.jpg]]

![[Pasted image 20240225110547.png]]

